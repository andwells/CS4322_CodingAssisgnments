package controller.command;

import java.util.Stack;

public class Macro
{
	private String name;
	private Stack<TextCommand> commands;
	private TextCommandInvoker invoker;
		
	
	public Macro(TextCommandInvoker tci)
	{
		this.name = "";
		commands = new Stack<TextCommand>();
		invoker = tci;
	}
	public Macro(String name, TextCommandInvoker tci)
	{
		this.name = name;
		commands = new Stack<TextCommand>();
		invoker = tci;
	}
	
	public void setName(String name)
	{
		this.name = name;
	}
	
	public String getName()
	{
		return name;
	}
	
	public int totalCommands()
	{
		return commands.size(); 
	}
	
	public void addStep(TextCommand c)
	{
		//Add something to make start relative to cursor
		if(c != null)
		{
			commands.push(c);
		}
	}
	
	public TextCommand removeLast()
	{
		return commands.pop();
	}
	
	public void play(int start)
	{
		for(int i = 0; i < commands.size(); i++)
		{
			TextCommand c = commands.get(i);
			//c.updateStart(start);
			invoker.doCommand(c);
		}
	}
}
